(function(){"use strict";var a=document.getElementsByTagName("script"),o=a[a.length-1],t=o.getAttribute("data-endpoint")||"{{ENDPOINT}}";t=t.replace(/\/$/,"");function r(){return{path:window.location.pathname+window.location.search,referrer:document.referrer||"",screen_width:window.screen.width,screen_height:window.screen.height}}function e(){var d=r();fetch(t+"/api/ping",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),mode:"cors",credentials:"omit",keepalive:!0}).catch(function(){})}document.readyState==="complete"?e():window.addEventListener("load",e);var i=window.location.pathname;function n(){window.location.pathname!==i&&(i=window.location.pathname,e())}window.addEventListener("popstate",n);var c=history.pushState,s=history.replaceState;history.pushState=function(){c.apply(this,arguments),n()},history.replaceState=function(){s.apply(this,arguments),n()}})();
